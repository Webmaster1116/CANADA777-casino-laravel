ViewController("SettingsViewController",{},function(){function f(a){GameSettings.getInstance().currBetIndex=a.data.index;SoundManager.getInstance().play("selectBetSound"+(a.data.index+1));this.updateSelectedBet();this.dispatchEvent(a)}function g(a){GameSettings.getInstance().currDenominationIndex=a.data.index;SoundManager.getInstance().play("spinSound");this.updateSelectedDenomination();this.dispatchEvent(a)}function h(a){var b=GameSettings.getInstance();b.fixedLinesCount||(b.currLineIndex=a.data.index,
this._view.setCurrLine(a.data.index),SoundManager.getInstance().play("selectBetSound"+(a.data.index+1)),this.dispatchEvent(a))}function k(){var a=GameSettings.getInstance();SoundManager.getInstance().play("startAutoplaySound");a.autoplayGame=!0;null!=a.autoplayLimit&&0<a.autoplayLimit.length&&(a.remainingAutoplays=a.autoplayLimit[a.autoplayLimit.length-1]);this._view.hide()}function l(){var a=SoundManager.getInstance();a.toggleMute();a.areSoundsLoaded()||a.loadAll();a.isMuted()||a.play("unmuteSound")}
function m(){this.hide()}function n(a){this.dispatchEvent(a)}function c(a){this.dispatchEvent(a)}return{init:function(a){this._super();for(var b=GameSettings.getInstance(),e=SoundManager.getInstance(),p=[],q=b.denominations.length,d=0;d<q;d++)p[d]=b.denominations[d][0];this._view=new SettingsView({denominations:p,currentDenom:b.currDenominationIndex,bets:b.betValues,currentBet:b.currBetIndex,comboCoeficients:b.comboCoeficients,lineGame:b.lineGame,lines:b.linesCountConfig,currentLine:b.currLineIndex,
fixedLines:b.fixedLinesCount,betText:b.localize("BET"),creditText:b.localize("CREDIT"),lineText:b.localize("Line").toUpperCase(),linesText:b.localize("LINES"),fixedText:b.localize("FIXED"),currencyType:b.currencyType,currency:b.currency,soundButtonEnabled:e.isSupported(),isMuted:e.isMuted(),isAutoplayGameDisabled:null!=b.autoplayLimit&&0==b.autoplayLimit[0],gameVersion:b.gameVersion,paddingX:b.paddingX,paddingY:b.paddingY,scaleCoef:b.scaleCoef,noCoins:b.noCoins,currencyDoNotDisplayCredits:b.currencyDoNotDisplayCredits});
this._view.addEventListener(SettingsView.BET_BUTTON_CLICK,f,this);this._view.addEventListener(SettingsView.DENOM_BUTTON_CLICK,g,this);this._view.addEventListener(SettingsView.LINE_BUTTON_CLICK,h,this);this._view.addEventListener(SettingsView.AUTOPLAY_BUTTON_CLICK,k,this);this._view.addEventListener(SettingsView.SOUND_BUTTON_CLICK,l,this);this._view.addEventListener(SettingsView.SETTINGS_CLOSE_BUTTON_CLICK,m,this);this._view.addEventListener(SettingsView.PAYTABLE_BUTTON_CLICK,c,this);this._view.addEventListener(SettingsView.HELP_BUTTON_CLICK,
n,this);this._view.addEventListener(SettingsView.SETTINGS_SHOWN,c,this);this._view.addEventListener(SettingsView.SETTINGS_HIDDEN,c,this);b.bonusSpinsModel&&b.bonusSpinsModel.hasMoreBonusSpinsToPlay()&&this._view.disable();this._view.show(a);e.play("settingsShowSound")},updateSelectedBet:function(){this._view.setCurrBet(GameSettings.getInstance().currBetIndex)},updateSelectedDenomination:function(){this._view.setCurrDenom(GameSettings.getInstance().currDenominationIndex)},hide:function(){this._view.hide();
SoundManager.getInstance().play("settingsHideSound")},dispose:function(){this._view.removeEventListener(SettingsView.BET_BUTTON_CLICK,f,this);this._view.removeEventListener(SettingsView.DENOM_BUTTON_CLICK,g,this);this._view.removeEventListener(SettingsView.LINE_BUTTON_CLICK,h,this);this._view.removeEventListener(SettingsView.AUTOPLAY_BUTTON_CLICK,k,this);this._view.removeEventListener(SettingsView.SOUND_BUTTON_CLICK,l,this);this._view.removeEventListener(SettingsView.SETTINGS_CLOSE_BUTTON_CLICK,m,
this);this._view.removeEventListener(SettingsView.PAYTABLE_BUTTON_CLICK,c,this);this._view.removeEventListener(SettingsView.HELP_BUTTON_CLICK,n,this);this._view.removeEventListener(SettingsView.SETTINGS_SHOWN,c,this);this._view.removeEventListener(SettingsView.SETTINGS_HIDDEN,c,this);this._super()}}}());
