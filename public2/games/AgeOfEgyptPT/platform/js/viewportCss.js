(function(r){var g=[1280,720];var n=[768,558];var a=function(){return window.top==window.self};var m=function(){if((window.orientation!==undefined)&&Detect.OS.is(Detect.O.Ios)){return Math.abs(window.orientation)===90}return window.matchMedia("(orientation: landscape)").matches};var b=function(){if((window.orientation!==undefined)&&Detect.OS.is(Detect.O.Ios)){return Math.abs(window.orientation)!==90}return window.matchMedia("(orientation: portrait)").matches};var j=(function(){var s;return function(){s=s||window.document.getElementsByClassName("visualViewport")[0];if(!s&&(window.document.readyState!=="loading")){s=window.document.createElement("div");s.classList.add("visualViewport");window.document.body.insertBefore(s,window.document.body.firstChild)}return s}})();var d=function(){var s,u;if(Detect.OS.is(Detect.O.Ios)&&Detect.Browser.isAnyOf(Detect.B.Chrome,Detect.B.UcBrowser)){var t=j();if(t&&t.clientWidth&&t.clientHeight){s=t.clientWidth;u=t.clientHeight}else{s=window.innerWidth;u=window.innerHeight}}else{if(!window.outerWidth||!window.outerHeight){s=window.innerWidth;u=window.innerHeight}else{if((window.innerWidth>window.outerWidth)&&(window.innerHeight>window.outerHeight)){s=window.outerWidth;u=window.outerHeight}else{if((window.innerWidth<window.outerWidth)&&(window.innerHeight<window.outerHeight)){s=window.outerWidth;u=window.outerHeight}else{s=window.innerWidth;u=window.innerHeight}}}}if(!a()||Detect.Type.is(Detect.T.Desktop)){s=document.documentElement.clientWidth;u=document.documentElement.clientHeight}return m()?[Math.max(s,u),Math.min(s,u)]:[Math.min(s,u),Math.max(s,u)]};var o=function(){var s=d();return Math.min(s[0],s[1])};var h=function(){var t=CP.Utils.isCore1Game(CP.Utils.getParam("game"));var u=g;var x=Detect.Device.rawResult();if(x.targetSize){u=t?x.targetSize.getCore1():x.targetSize.getCore2()}var s=u[0];var v=u[1];return m()?[Math.max(s,v),Math.min(s,v)]:[Math.min(s,v),Math.max(s,v)]};var e=function(){var t=h();var s=d();return(s[0]>t[0])||(s[1]>t[1])};var k=function(){var t=h();var s=d();return(s[0]<t[0])||(s[1]<t[1])};function l(u,s,t){if((u*s[0])<t[0]){return l(u+0.01,s,t)}return u}var i=function(){var t=d();var v=h();var u=window.devicePixelRatio?window.devicePixelRatio:1;if(u>2){u=2}var s=Math.max(v[0]/t[0],v[1]/t[1]);if(s<u&&(u-s)<0.3){s=u}window.cpi=s;return s};var f=function(){return Detect.OS.is(Detect.O.Android)&&Detect.Browser.isAnyOf(Detect.B.SamsungBrowser,Detect.B.Chrome,Detect.B.UcBrowser)};var q=function(){var w=d();var v=i();var t=(v*100);var y=100/t;var x=Math.ceil(w[0]*v);var s=Math.ceil(w[1]*v);var u;if(window.document.body.classList.contains("ios11_caret_fix")){u="@-ms-viewport{width:device-width}                            #viewport {                                width: {width}px;                                height: {height}px;                                zoom: {scale};                                -webkit-text-size-adjust: auto;                            }                            #gameFrame {                                min-height: {percents}%;                                min-width: {percents}%;                                -webkit-transform: scale({scale});                                -webkit-transform-origin: left top;                            }                            "}else{u="@-ms-viewport{width:device-width}                            #viewport {                                width:{width}px;                                height:{height}px;                                -webkit-transform: scale({scale});                                -webkit-transform-origin: left top;                                -ms-transform: scale({scale});                                -ms-transform-origin: left top;                                transform: scale({scale});                                transform-origin: left top;                            }                            "}u+="#viewport {                            --platform-viewport-width: {width}px;                            --platform-viewport-height: {height}px;                            --platform-viewport-min-dimension: {mindimension}px;                         }                         ";u=u.replace(/\{scale\}/g,y);u=u.replace(/\{percents\}/g,t);u=u.replace(/\{width\}/g,x);u=u.replace(/\{height\}/g,s);u=u.replace(/\{mindimension\}/g,Math.min(x,s));if(f()){u+=".keyboardVisible #app {position: absolute;}"}return u};var p=function(){var w=d();var v=i();var t=(v*100);var z=100/t;var y=z*z;var x=Math.ceil(w[0]*v);var s=Math.ceil(w[1]*v);var u;if(window.document.body.classList.contains("ios11_caret_fix")){u="@-ms-viewport{width:device-width}                            #viewport {                                width: {width}px;                                height: {height}px;                                zoom: {scale};                                -webkit-text-size-adjust: auto;                            }                            #gameFrame {                                min-height: {percents}%;                                min-height: calc({percents}% - constant(safe-area-inset-bottom)/{scale2}/4);                                min-height: calc({percents}% - env(safe-area-inset-bottom)/{scale2}/4);                                min-width: {percents}%;                                min-width: calc({percents}% - constant(safe-area-inset-left)/{scale2} - constant(safe-area-inset-right)/{scale2});                                min-width: calc({percents}% - env(safe-area-inset-left)/{scale2} - env(safe-area-inset-right)/{scale2});                                left: calc(constant(safe-area-inset-left)/{scale});                                left: calc(env(safe-area-inset-left)/{scale});                                -webkit-transform: scale({scale});                                -webkit-transform-origin: left top;                            }                            @media (orientation: landscape) {                                .safari #gameFrame {                                    min-height: {percents}%;                                }                            }                            "}else{u="@-ms-viewport{width:device-width}                            #viewport {                                width:{width}px;                                height:{height}px;                                -webkit-transform: scale({scale});                                -webkit-transform-origin: left top;                                -ms-transform: scale({scale});                                -ms-transform-origin: left top;                                transform: scale({scale});                                transform-origin: left top;                            }                            #gameFrame {                                min-width: 100%;                                min-width: calc(100% - constant(safe-area-inset-left)/{scale} - constant(safe-area-inset-right)/{scale});                                min-width: calc(100% - env(safe-area-inset-left)/{scale} - env(safe-area-inset-right)/{scale});                                min-height: 100%;                                min-height: calc(100% - constant(safe-area-inset-bottom)/{scale}/4);                                min-height: calc(100% - env(safe-area-inset-bottom)/{scale}/4);                                left: calc(constant(safe-area-inset-left)/{scale});                                left: calc(env(safe-area-inset-left)/{scale});                            }                            @media (orientation: landscape) {                                .safari #gameFrame {                                    min-height: 100%;                                }                            }                            "}u+="#viewport {                            --platform-viewport-width: {width}px;                            --platform-viewport-height: {height}px;                            --platform-viewport-min-dimension: {mindimension}px;                         }                         ";u=u.replace(/\{scale\}/g,z);u=u.replace(/\{scale2\}/g,y);u=u.replace(/\{percents\}/g,t);u=u.replace(/\{width\}/g,x);u=u.replace(/\{height\}/g,s);u=u.replace(/\{mindimension\}/g,Math.min(x,s));if(f()){u+=".keyboardVisible #app {position: absolute;}"}return u};var c=function(){var t=document.getElementById("css-viewport");var u=true;if(!t){u=false;t=document.createElement("style");t.setAttribute("type","text/css");t.id="css-viewport"}t.innerHTML=q();var s=document.getElementsByTagName("head")[0];if(s&&!u){s.appendChild(t)}};r.initCssViewport=function(){if(!Detect.Type.is(Detect.T.Desktop)){if(e()||k()){c();var s=function(){if(!f()||(document.body.className.indexOf("keyboardVisible")===-1)){c()}};window.addEventListener("resize",CP.Utils.debounce(s,200));if(Detect.OS.is(Detect.O.Android)&&Detect.Browser.is(Detect.B.UcBrowser)){window.addEventListener("focusout",CP.Utils.debounce(s,500))}}}}})(window);